language: rust

matrix:
  include:
    - rust: stable
    - rust: beta
    - rust: nightly
    - rust: 1.17.0
      script: cargo build
    - rust: 1.22.1
    - rust: nightly
      script: rustup component add clippy-preview && cargo clippy -- -Dclippy
  allow_failures:
    - rust: nightly
      script: rustup component add clippy-preview && cargo clippy -- -Dclippy

script:
  - cargo build
  - cargo test
